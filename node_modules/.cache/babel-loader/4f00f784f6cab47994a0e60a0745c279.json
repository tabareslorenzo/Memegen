{"ast":null,"code":"var _jsxFileName = \"/Users/tabareslorenz/Documents/page/memes/src/components/Savedmemes.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport './image.css';\nimport Base64String from 'lz-string'; // import Promise from 'promise';\n\nvar Promise = require('promise');\n\nclass Savedmemes extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      savedmemes: [],\n      loggedin: false\n    };\n  }\n\n  componentDidMount() {\n    var token = localStorage.getItem('token');\n\n    if (token != null) {\n      token = token.substring(6, token.length);\n    }\n\n    console.log(\"whatwhat\");\n    console.log(typeof token);\n\n    if (token) {\n      console.log(\"whatwhat\");\n      const user = axios.create({\n        baseURL: 'http://localhost:4000/users/memes',\n        timeout: 10000,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': \"Bearer \" + token\n        }\n      });\n      user.get().then(response => {\n        // console.log(response.data.memes[0].meme_url);\n        // console.log(Base64String.compress(response.data.memes[0].meme_url));\n        // console.log(Base64String.decompressFromUTF16(response.data.memes[0].meme_url));\n        // response.data.memes.map(savedmeme => Base64String.decompressFromUTF16(savedmeme.meme_url));\n        this.setState({\n          savedmemes: response.data.memes\n        }); // this.state.savedmemes.forEach(me => console.log(me.meme_url));\n        // const promises = response.data.memes.map(savedmeme => Base64String.decompress(savedmeme.meme_url));\n        // console.log(Base64String.decompress(response.data.memes[0]));\n        // const promises = this.setState({savedmemes: [...this.state.savedmemes.map(async savedmeme => await Base64String.decompress(savedmeme.meme_url)\n        // ({\n        //       meme_url:  function(){Base64String.decompress(savedmeme.meme_url)\n        //       console.log(Base64String.decompress(savedmeme.meme_url));},\n        //       meme_id: savedmeme.meme_id,\n        // })\n        // )]});\n\n        this.setState({\n          savedmemes: [...this.state.savedmemes.map(savedmeme => Base64String.decompressFromUTF16(savedmeme.meme_url))]\n        }); // this.setState({savedmemes: [...this.state.savedmemes.forEach(savedmeme => console.log(Base64String.decompress(savedmeme.meme_url)))]});\n        // Promise.all(promises)\n        //       .then(response =>\n        //       {\n        //             this.setState({savedmemes: response});\n        //             console.log(response);\n        //       })\n        //       .catch(e =>{\n        //                   console.log(e);\n        //       });\n        // this.setState({savedmemes: await Promise.all(promises)});\n        //                         this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]});\n        //                         this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]});\n        // console.log(this.state.savedmemes);\n      }).catch(error => {\n        this.props.logout();\n        console.log(error);\n      });\n    } //\n    //              axios.post('http://localhost:4000/users/adduser', newUser, {\n    //         headers: {\n    //             'Content-Type': 'application/json'\n    //         }\n    // }).then(res => {console.log(res);}).catch(function(error){\n    //                         console.log(error.response);\n    //                   });\n    // axios.get('http://localhost:4000/users/')\n    //       .then(response => {\n    //             console.log(response);\n    //       })\n    //       .catch(function(error){\n    //             console.log(error);\n    //       })\n    //             if(token){\n    //                   this.setState({loggedin: true});\n    //                   const user = axios.create({\n    //                         baseURL: 'http://localhost:4000/users/meme',\n    //                         timeout: 1000,\n    //                         headers: {'Content-Type': 'application/json', 'Authorization': token}\n    //\n    //                   });\n    //                   user.get()\n    //                         .then(response => {\n    //                               this.setState({savedmemes: response.data.memes})\n    //                               this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]})\n    //                               this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]})\n    // console.log(response.data.memes);\n    //                         })\n    //                         .catch(function(error){\n    //                               console.log(error);\n    //                         })\n    //\n    //\n    //\n    //             }\n    // axios.get('http://localhost:4000/memes/')\n    //       .then(response => {\n    //             this.setState({savedmemes: response.data})\n    //             this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]})\n    //             this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]})\n    //\n    //       })\n    //       .catch(function(error){\n    //             console.log(error);\n    //       })\n    // axios.get('http://localhost:4000/memes/users')\n    //       .then(response => {\n    //             console.log(\"response.data\");\n    //             console.log(response.data);\n    //\n    //       })\n    //       .catch(function(error){\n    //             console.log(error);\n    //       })\n    // let arr = JSON.parse(localStorage.getItem('strs'));\n    // const newMeme =\n    // {\n    //       meme_url: '',\n    //       meme_id: 12\n    // }\n    // let strs = [(typeof newMeme)];\n    // arr.map(ar => strs.push({\n    //       meme_url: ar,\n    //       meme_id: 12\n    // }));\n    // console.log(typeof strs);\n    // console.log(strs);\n    // strs.map(str => this.setState({savedmemes: [...this.state.savedmemes, str]}));\n    // this.state.savedmemes.map(saved => {console.log(saved);});\n\n  }\n\n  render() {\n    // this.setState({savedmemes: Base64String.decompress(this.setState.savedmemes)});\n    var smemes = this.state.savedmemes;\n\n    if (this.props.isloggedin) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"log in\");\n    }\n\n    return smemes.map(smeme => React.createElement(\"img\", {\n      className: \"savedMemes\",\n      style: savedStyle,\n      src: smeme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }));\n  }\n\n}\n\nSavedmemes.proTypes = {\n  savedmemes: PropTypes.array.isRequired\n};\nconst savedStyle = {\n  justifyContent: 'center'\n};\nexport default Savedmemes; // <div>\n// <div>\n//       {smemes.map((smeme) =>\n//       <img src={smeme.meme_url}></img>)}\n//\n// </div>\n// <button className=\"btn-container\"  ><Link to={`/login/`} >Home</Link></button>\n// </div>","map":{"version":3,"sources":["/Users/tabareslorenz/Documents/page/memes/src/components/Savedmemes.js"],"names":["React","Component","PropTypes","axios","Base64String","Promise","require","Savedmemes","constructor","props","state","savedmemes","loggedin","componentDidMount","token","localStorage","getItem","substring","length","console","log","user","create","baseURL","timeout","headers","get","then","response","setState","data","memes","map","savedmeme","decompressFromUTF16","meme_url","catch","error","logout","render","smemes","isloggedin","smeme","savedStyle","proTypes","array","isRequired","justifyContent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport './image.css';\nimport Base64String  from 'lz-string';\n// import Promise from 'promise';\nvar Promise = require('promise');\nclass Savedmemes extends Component {\n      constructor(props) {\n      super(props);\n      this.state = {savedmemes: [],\n      loggedin: false};\n      }\n      componentDidMount(){\n            var token = localStorage.getItem('token');\n            if(token != null)\n            {\n                  token = token.substring(6, token.length);\n            }\n\n            console.log(\"whatwhat\");\n            console.log(typeof token);\n            if(token){\n                  console.log(\"whatwhat\");\n                  const user = axios.create({\n                        baseURL: 'http://localhost:4000/users/memes',\n                        timeout: 10000,\n                        headers: {'Content-Type': 'application/json', 'Authorization': \"Bearer \" + token}\n\n                  });\n                  user.get()\n                        .then(response => {\n                        // console.log(response.data.memes[0].meme_url);\n                        // console.log(Base64String.compress(response.data.memes[0].meme_url));\n                        // console.log(Base64String.decompressFromUTF16(response.data.memes[0].meme_url));\n                        // response.data.memes.map(savedmeme => Base64String.decompressFromUTF16(savedmeme.meme_url));\n                        this.setState({savedmemes: response.data.memes});\n                        // this.state.savedmemes.forEach(me => console.log(me.meme_url));\n                        // const promises = response.data.memes.map(savedmeme => Base64String.decompress(savedmeme.meme_url));\n                        // console.log(Base64String.decompress(response.data.memes[0]));\n                        // const promises = this.setState({savedmemes: [...this.state.savedmemes.map(async savedmeme => await Base64String.decompress(savedmeme.meme_url)\n                        // ({\n                        //       meme_url:  function(){Base64String.decompress(savedmeme.meme_url)\n                        //       console.log(Base64String.decompress(savedmeme.meme_url));},\n                        //       meme_id: savedmeme.meme_id,\n                        // })\n                               // )]});\n                        this.setState({savedmemes: [...this.state.savedmemes.map(savedmeme => Base64String.decompressFromUTF16(savedmeme.meme_url))]});\n                        // this.setState({savedmemes: [...this.state.savedmemes.forEach(savedmeme => console.log(Base64String.decompress(savedmeme.meme_url)))]});\n                        // Promise.all(promises)\n                        //       .then(response =>\n                        //       {\n                        //             this.setState({savedmemes: response});\n                        //             console.log(response);\n                        //       })\n                        //       .catch(e =>{\n                        //                   console.log(e);\n                        //       });\n\n                        // this.setState({savedmemes: await Promise.all(promises)});\n//                         this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]});\n//                         this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]});\n// console.log(this.state.savedmemes);\n\n\n\n                  })\n                        .catch(error =>{\n                              this.props.logout();\n                              console.log(error);\n                        })\n            }\n\n//\n//              axios.post('http://localhost:4000/users/adduser', newUser, {\n//         headers: {\n//             'Content-Type': 'application/json'\n//         }\n// }).then(res => {console.log(res);}).catch(function(error){\n//                         console.log(error.response);\n//                   });\n            // axios.get('http://localhost:4000/users/')\n            //       .then(response => {\n            //             console.log(response);\n            //       })\n            //       .catch(function(error){\n            //             console.log(error);\n            //       })\n//             if(token){\n//                   this.setState({loggedin: true});\n//                   const user = axios.create({\n//                         baseURL: 'http://localhost:4000/users/meme',\n//                         timeout: 1000,\n//                         headers: {'Content-Type': 'application/json', 'Authorization': token}\n//\n//                   });\n//                   user.get()\n//                         .then(response => {\n//                               this.setState({savedmemes: response.data.memes})\n//                               this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]})\n//                               this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]})\n// console.log(response.data.memes);\n//                         })\n//                         .catch(function(error){\n//                               console.log(error);\n//                         })\n//\n//\n//\n//             }\n            // axios.get('http://localhost:4000/memes/')\n            //       .then(response => {\n            //             this.setState({savedmemes: response.data})\n            //             this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url !== undefined)]})\n            //             this.setState({savedmemes: [...this.state.savedmemes.filter(savedmeme => savedmeme.meme_url.length > 20)]})\n            //\n            //       })\n            //       .catch(function(error){\n            //             console.log(error);\n            //       })\n            // axios.get('http://localhost:4000/memes/users')\n            //       .then(response => {\n            //             console.log(\"response.data\");\n            //             console.log(response.data);\n            //\n            //       })\n            //       .catch(function(error){\n            //             console.log(error);\n            //       })\n            // let arr = JSON.parse(localStorage.getItem('strs'));\n            // const newMeme =\n            // {\n            //       meme_url: '',\n            //       meme_id: 12\n            // }\n            // let strs = [(typeof newMeme)];\n            // arr.map(ar => strs.push({\n            //       meme_url: ar,\n            //       meme_id: 12\n            // }));\n            // console.log(typeof strs);\n            // console.log(strs);\n            // strs.map(str => this.setState({savedmemes: [...this.state.savedmemes, str]}));\n            // this.state.savedmemes.map(saved => {console.log(saved);});\n\n      }\n\n      render () {\n            // this.setState({savedmemes: Base64String.decompress(this.setState.savedmemes)});\n            var smemes = this.state.savedmemes;\n            if(this.props.isloggedin){\n                  return <p>log in</p>\n            }\n            return(\n\n                  smemes.map((smeme) => <img className=\"savedMemes\" style={savedStyle} src={smeme}></img>)\n\n            );\n\n      }\n}\n\nSavedmemes.proTypes = {\n      savedmemes: PropTypes.array.isRequired\n}\nconst savedStyle={\n\n      justifyContent: 'center'\n\n}\n\n\nexport default Savedmemes;\n// <div>\n// <div>\n//       {smemes.map((smeme) =>\n//       <img src={smeme.meme_url}></img>)}\n//\n// </div>\n// <button className=\"btn-container\"  ><Link to={`/login/`} >Home</Link></button>\n// </div>\n"]},"metadata":{},"sourceType":"module"}